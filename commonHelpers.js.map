{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const url = 'https://pixabay.com/api/';\nconst apiKey = '27065513-503b047e62eedc8adb85626ce';\n\nexport function sendRequest(q) {\n  return fetch(\n    `https://pixabay.com/api/?key=27065513-503b047e62eedc8adb85626ce&q=${q}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      const images = data.hits;\n      console.log(images);\n      return images;\n    });\n};\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function createMarkup(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.insertAdjacentHTML('beforeend', images.map(imageToString).join(''));\n  function imageToString(image) {\n    return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${image.webformatURL}\"\n            alt=\"${image.tags}\"\n          />\n        <div class=\"photo-info\">\n        <div>Likes <span>${image.likes}</span></div>\n        <div>Views <span>${image.views}</span></div>\n        <div>Comments <span>${image.comments}</span></div>\n        <div>Downloads <span>${image.downloads}</span></div>\n        </div>\n        </a>\n      </li>`;\n  }\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst searchLine = form.querySelector('input');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nimport { sendRequest } from './js/pixabay-api.js';\nimport { createMarkup } from './js/render-functions.js';\n\nloader.style.display = 'none';\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  gallery.innerHTML = '';\n  if (searchLine.value === '') {\n    iziToast.show({\n      message: 'Please fill out this field',\n      messageColor: '#FAFAFB',\n      messageSize: '16px',\n      messageLineHeight: '24px',\n      backgroundColor: '#EF4040',\n      position: 'topRight',\n      maxWidth: '432px',\n    });\n  };\n  loader.style.display = 'block';\n  sendRequest(searchLine.value.trim()).then(images => {\n    loader.style.display = 'none';\n    if (images.length === 0) {\n      iziToast.show({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        messageColor: '#FAFAFB',\n        messageSize: '16px',\n        messageLineHeight: '24px',\n        backgroundColor: '#EF4040',\n        position: 'topRight',\n        maxWidth: '432px',\n      });\n    }\n    createMarkup(images);\n  });\n  form.reset();\n});\n"],"names":["sendRequest","q","response","data","images","createMarkup","imageToString","image","SimpleLightbox","form","searchLine","gallery","loader","event","iziToast"],"mappings":"6vBAGO,SAASA,EAAYC,EAAG,CAC7B,OAAO,MACL,qEAAqEA,CAAC,0DACvE,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,MAAMC,EAASD,EAAK,KACpB,eAAQ,IAAIC,CAAM,EACXA,CACb,CAAK,CACL,CCfO,SAASC,EAAaD,EAAQ,CACnB,SAAS,cAAc,UAAU,EACzC,mBAAmB,YAAaA,EAAO,IAAIE,CAAa,EAAE,KAAK,EAAE,CAAC,EAC1E,SAASA,EAAcC,EAAO,CAC5B,MAAO;AAAA,wCAC6BA,EAAM,aAAa;AAAA;AAAA;AAAA,mBAGxCA,EAAM,YAAY;AAAA,mBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA,2BAGFA,EAAM,KAAK;AAAA,2BACXA,EAAM,KAAK;AAAA,8BACRA,EAAM,QAAQ;AAAA,+BACbA,EAAM,SAAS;AAAA;AAAA;AAAA,YAI3C,CACgB,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB,CCzBA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAaD,EAAK,cAAc,OAAO,EACvCE,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAK/CA,EAAO,MAAM,QAAU,OAEvBH,EAAK,iBAAiB,SAAUI,GAAS,CACvCA,EAAM,eAAc,EACpBF,EAAQ,UAAY,GAChBD,EAAW,QAAU,IACvBI,EAAS,KAAK,CACZ,QAAS,6BACT,aAAc,UACd,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,WACV,SAAU,OAChB,CAAK,EAEHF,EAAO,MAAM,QAAU,QACvBZ,EAAYU,EAAW,MAAM,KAAI,CAAE,EAAE,KAAKN,GAAU,CAClDQ,EAAO,MAAM,QAAU,OACnBR,EAAO,SAAW,GACpBU,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,UACd,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,WACV,SAAU,OAClB,CAAO,EAEHT,EAAaD,CAAM,CACvB,CAAG,EACDK,EAAK,MAAK,CACZ,CAAC"}